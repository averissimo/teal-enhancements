[
  {
    "objectID": "README.html",
    "href": "README.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A hands-on workshop at Phuse EU 2025 sponsored by Appsilon\n\nPresented by Peyman Eshghi, Konrad Pagacz and Andr√© Ver√≠ssimo\nFind out more at Phuse EU Connect 2025 webpage\n\n\nParticipants will engage in collaborative activities aimed at enhancing their understanding of the Teal framework. The workshop will be structured based on valuable feedback gathered from leaders during cross-industry discussions in forums such as the PHUSE Working Groups.\nWith increasing interest from regulatory agencies in promoting data transparency and accessibility, this workshop will provide a platform to showcase practical applications of the Teal framework while ensuring alignment with regulatory expectations. Our presentation at the PHUSE CSS in May highlights the relevance of this topic in ongoing industry conversations.\nWe welcome participants from various industry backgrounds to join us at the PHUSE EU Connect for this engaging workshop. Attendees will be guided through both beginner and advanced examples of creating interactive visualisations using Teal. They will learn how to build a Teal app with integrated modules and develop customised modules to address more complex scenarios.\nMoreover, the workshop will review the Teal roadmap and discuss the prioritisation of future features. If time allows, we will host a mini-hackathon, where attendees can actively contribute to Teal‚Äôs development by enhancing documentation or adding new modules to existing Teal packages.\nThis interactive experience promises to foster learning and collaboration while advancing skills in data visualisation.\n\n\n\n\nA laptop with a modern web browser installed\nFamiliarity with R and Shiny, including:\n\nReactivity concepts - see Basic Reactivity and An Overview\nUsing modules in Shiny apps - see Modularizing Shiny app code and Shiny Modules\n\n\n\n\n\n\n\n\nOverview & Objectives\nIntroduction to teal: What is teal? Why use it?\nInstallation & Setup: Quick walkthrough to get started\nCode Sample: Demonstration of a simple teal app\nAnatomy of a teal App: Key components & structure\n\n\n\n\n\nIntroduction to teal.modules.clinical and anatomy of a module (15 minutes)\nDeeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)\nDeeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)\n\n\n\n\n\nStep-by-step Development: Building your own teal modules\nBest Practices: Tips for effective customization\nData Integration: Incorporating custom data processing inside modules\n\n\n\n\n\nFuture Directions: Upcoming features and plans for teal\nDiscussion & Q&A: Open floor for questions, insights, and sharing experiences"
  },
  {
    "objectID": "README.html#description",
    "href": "README.html#description",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "Participants will engage in collaborative activities aimed at enhancing their understanding of the Teal framework. The workshop will be structured based on valuable feedback gathered from leaders during cross-industry discussions in forums such as the PHUSE Working Groups.\nWith increasing interest from regulatory agencies in promoting data transparency and accessibility, this workshop will provide a platform to showcase practical applications of the Teal framework while ensuring alignment with regulatory expectations. Our presentation at the PHUSE CSS in May highlights the relevance of this topic in ongoing industry conversations.\nWe welcome participants from various industry backgrounds to join us at the PHUSE EU Connect for this engaging workshop. Attendees will be guided through both beginner and advanced examples of creating interactive visualisations using Teal. They will learn how to build a Teal app with integrated modules and develop customised modules to address more complex scenarios.\nMoreover, the workshop will review the Teal roadmap and discuss the prioritisation of future features. If time allows, we will host a mini-hackathon, where attendees can actively contribute to Teal‚Äôs development by enhancing documentation or adding new modules to existing Teal packages.\nThis interactive experience promises to foster learning and collaboration while advancing skills in data visualisation."
  },
  {
    "objectID": "README.html#requirements-for-the-workshop",
    "href": "README.html#requirements-for-the-workshop",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A laptop with a modern web browser installed\nFamiliarity with R and Shiny, including:\n\nReactivity concepts - see Basic Reactivity and An Overview\nUsing modules in Shiny apps - see Modularizing Shiny app code and Shiny Modules"
  },
  {
    "objectID": "README.html#agenda",
    "href": "README.html#agenda",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "Overview & Objectives\nIntroduction to teal: What is teal? Why use it?\nInstallation & Setup: Quick walkthrough to get started\nCode Sample: Demonstration of a simple teal app\nAnatomy of a teal App: Key components & structure\n\n\n\n\n\nIntroduction to teal.modules.clinical and anatomy of a module (15 minutes)\nDeeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)\nDeeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)\n\n\n\n\n\nStep-by-step Development: Building your own teal modules\nBest Practices: Tips for effective customization\nData Integration: Incorporating custom data processing inside modules\n\n\n\n\n\nFuture Directions: Upcoming features and plans for teal\nDiscussion & Q&A: Open floor for questions, insights, and sharing experiences"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A hands-on workshop at Phuse EU 2025 sponsored by Appsilon\n\nPresented by Peyman Eshghi, Konrad Pagacz and Andr√© Ver√≠ssimo\nFind out more at Phuse EU Connect 2025 webpage\n\n\nParticipants will engage in collaborative activities aimed at enhancing their understanding of the Teal framework. The workshop will be structured based on valuable feedback gathered from leaders during cross-industry discussions in forums such as the PHUSE Working Groups.\nWith increasing interest from regulatory agencies in promoting data transparency and accessibility, this workshop will provide a platform to showcase practical applications of the Teal framework while ensuring alignment with regulatory expectations. Our presentation at the PHUSE CSS in May highlights the relevance of this topic in ongoing industry conversations.\nWe welcome participants from various industry backgrounds to join us at the PHUSE EU Connect for this engaging workshop. Attendees will be guided through both beginner and advanced examples of creating interactive visualisations using Teal. They will learn how to build a Teal app with integrated modules and develop customised modules to address more complex scenarios.\nMoreover, the workshop will review the Teal roadmap and discuss the prioritisation of future features. If time allows, we will host a mini-hackathon, where attendees can actively contribute to Teal‚Äôs development by enhancing documentation or adding new modules to existing Teal packages.\nThis interactive experience promises to foster learning and collaboration while advancing skills in data visualisation.\n\n\n\n\nA laptop with a modern web browser installed\nFamiliarity with R and Shiny, including:\n\nReactivity concepts - see Basic Reactivity and An Overview\nUsing modules in Shiny apps - see Modularizing Shiny app code and Shiny Modules\n\n\n\n\n\n\n\n\nOverview & Objectives\nIntroduction to teal: What is teal? Why use it?\nInstallation & Setup: Quick walkthrough to get started\nCode Sample: Demonstration of a simple teal app\nAnatomy of a teal App: Key components & structure\n\n\n\n\n\nIntroduction to teal.modules.clinical and anatomy of a module (15 minutes)\nDeeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)\nDeeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)\n\n\n\n\n\nStep-by-step Development: Building your own teal modules\nBest Practices: Tips for effective customization\nData Integration: Incorporating custom data processing inside modules\n\n\n\n\n\nFuture Directions: Upcoming features and plans for teal\nDiscussion & Q&A: Open floor for questions, insights, and sharing experiences",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#description",
    "href": "index.html#description",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "Participants will engage in collaborative activities aimed at enhancing their understanding of the Teal framework. The workshop will be structured based on valuable feedback gathered from leaders during cross-industry discussions in forums such as the PHUSE Working Groups.\nWith increasing interest from regulatory agencies in promoting data transparency and accessibility, this workshop will provide a platform to showcase practical applications of the Teal framework while ensuring alignment with regulatory expectations. Our presentation at the PHUSE CSS in May highlights the relevance of this topic in ongoing industry conversations.\nWe welcome participants from various industry backgrounds to join us at the PHUSE EU Connect for this engaging workshop. Attendees will be guided through both beginner and advanced examples of creating interactive visualisations using Teal. They will learn how to build a Teal app with integrated modules and develop customised modules to address more complex scenarios.\nMoreover, the workshop will review the Teal roadmap and discuss the prioritisation of future features. If time allows, we will host a mini-hackathon, where attendees can actively contribute to Teal‚Äôs development by enhancing documentation or adding new modules to existing Teal packages.\nThis interactive experience promises to foster learning and collaboration while advancing skills in data visualisation.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#requirements-for-the-workshop",
    "href": "index.html#requirements-for-the-workshop",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A laptop with a modern web browser installed\nFamiliarity with R and Shiny, including:\n\nReactivity concepts - see Basic Reactivity and An Overview\nUsing modules in Shiny apps - see Modularizing Shiny app code and Shiny Modules",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "index.html#agenda",
    "href": "index.html#agenda",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "Overview & Objectives\nIntroduction to teal: What is teal? Why use it?\nInstallation & Setup: Quick walkthrough to get started\nCode Sample: Demonstration of a simple teal app\nAnatomy of a teal App: Key components & structure\n\n\n\n\n\nIntroduction to teal.modules.clinical and anatomy of a module (15 minutes)\nDeeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)\nDeeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)\n\n\n\n\n\nStep-by-step Development: Building your own teal modules\nBest Practices: Tips for effective customization\nData Integration: Incorporating custom data processing inside modules\n\n\n\n\n\nFuture Directions: Upcoming features and plans for teal\nDiscussion & Q&A: Open floor for questions, insights, and sharing experiences",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html",
    "href": "exercises/topic_6/choices_selected.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "The choices_selected function from teal.transform is a powerful utility for managing variable selections in teal modules. It provides a flexible way to specify choices and default selections for inputs, with support for both eager and delayed evaluation.\nThis topic will cover common scenarios app developers face when building teal applications from existing modules: - Limiting variable choices in module inputs - Providing choices without knowing the dataset structure upfront - Adapting to different datasets dynamically"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#topic-6-deeper-dive-into-customizing-the-parameters-of-teal.modules.clinical-modules-10-minutes",
    "href": "exercises/topic_6/choices_selected.html#topic-6-deeper-dive-into-customizing-the-parameters-of-teal.modules.clinical-modules-10-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "The choices_selected function from teal.transform is a powerful utility for managing variable selections in teal modules. It provides a flexible way to specify choices and default selections for inputs, with support for both eager and delayed evaluation.\nThis topic will cover common scenarios app developers face when building teal applications from existing modules: - Limiting variable choices in module inputs - Providing choices without knowing the dataset structure upfront - Adapting to different datasets dynamically"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#introduction-to-choices_selected",
    "href": "exercises/topic_6/choices_selected.html#introduction-to-choices_selected",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Introduction to choices_selected\n",
    "text": "Introduction to choices_selected\n\nBasic Usage\n\nThe choices_selected function creates an object that specifies both available choices and selected defaults for UI inputs.\n\nThe choices can be provided in two ways:\n\nStatically as character vectors\nDynamically by referencing the dataset (when using within a teal application that does not yet know the full data structure).\n\n\n\n\n\n\n\n\n\n\nteal example with clinical module\nLet‚Äôs start with a basic teal application that uses choices_selected:\nlibrary(teal.modules.clinical)\n\n# Create sample data\ndata &lt;- teal_data() |&gt;\n  within({\n    ADSL &lt;- pharmaverseadam::adsl\n\n    ADSL$ARM &lt;- as.factor(ADSL$ARM)\n    ADSL$ARMCD &lt;- as.factor(ADSL$ARMCD)\n    ADSL$SEX &lt;- as.factor(ADSL$SEX)\n    ADSL$RACE &lt;- as.factor(ADSL$RACE)\n\n    attr(ADSL$ARM, \"label\") &lt;- \"Actual Treatment Arm\"\n    attr(ADSL$ARMCD, \"label\") &lt;- \"Actual Treatment Arm Code\"\n    attr(ADSL$SEX, \"label\") &lt;- \"Sex\"\n    attr(ADSL$RACE, \"label\") &lt;- \"Race\"\n})\n\njoin_keys(data) &lt;- default_cdisc_join_keys[names(data)]\n\n# Basic application using choices_selected\napp &lt;- init(\n  data = data,\n  modules = modules(\n    tm_t_summary(\n      label = \"Demographic Table\",\n      dataname = \"ADSL\",\n      arm_var = choices_selected(c(\"ARM\", \"ARMCD\"), \"ARM\"),\n      add_total = TRUE,\n      summarize_vars = choices_selected(\n        c(\"SEX\", \"RACE\", \"AGE\"),\n        selected = c(\"SEX\", \"RACE\", \"AGE\")\n      ),\n      useNA = \"ifany\"\n    )\n  )\n)\n\nrunApp(app)"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#using-value_choices",
    "href": "exercises/topic_6/choices_selected.html#using-value_choices",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Using value_choices\n",
    "text": "Using value_choices\n\n\nThe value_choices function retrieves the actual choices from a dataset based on variable names.\n\n\nRequires a dataset to extract the values from specified columns\n\nDataset can be provided directly or as a reference to be resolved later\n\n\nWhen multiple columns are provided: it combines unique values from all specified columns"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#using-variable_choices",
    "href": "exercises/topic_6/choices_selected.html#using-variable_choices",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Using variable_choices\n",
    "text": "Using variable_choices\n\n\nThe variable_choices function allows you to dynamically select variables based on dataset characteristics.\n\n\n\n\n\n\n\n\n\nEager evaluation vs.¬†Delayed evaluation\nThe variable_choices function can be used in two modes:\n\nEager evaluation computes choices immediately, allowing for inspecting the choices beforehand (just as shown above).\nDelayed evaluation allows choices to be determined at runtime, which is useful when dataset structure isn‚Äôt known beforehand (see example below).\n\n\n\n\n\n\n\n\n\nApplication with Dynamic Variable Selection\n# Application that automatically finds numeric variables\napp_dynamic &lt;- init(\n  data = data,\n  modules = modules(\n    tm_t_summary(\n      label = \"Demographic Table\",\n      dataname = \"ADSL\",\n      arm_var = choices_selected(c(\"ARM\", \"ARMCD\"), \"ARM\"),\n      add_total = TRUE,\n      summarize_vars = analysis_vars,\n      useNA = \"ifany\"\n    )\n  )\n)\n\nrunApp(app_dynamic)\n\nteal example with Kaplan-Meier module\nUsing Kaplan-Meier module from teal.modules.clinical\nlibrary(teal.data)\nlibrary(teal.modules.clinical)\nlibrary(teal.transform)\n\ndata_km &lt;- teal_data() |&gt;\n  within({\n  ADSL &lt;- pharmaverseadam::adsl\n\n  ADSL$ARM &lt;- as.factor(ADSL$ARM)\n  ADSL$ARMCD &lt;- as.factor(ADSL$ARMCD)\n  ADSL$SEX &lt;- as.factor(ADSL$SEX)\n  ADSL$RACE &lt;- as.factor(ADSL$RACE)\n\n  ADTTE &lt;- pharmaverseadam::adtte_onco\n  ADTTE$ARM &lt;- as.factor(ADTTE$ARM)\n  ADTTE$ARMCD &lt;- as.factor(ADTTE$ARMCD)\n  ADTTE$AVALU = as.factor(\"DAYS\")\n})\njoin_keys(data_km) &lt;- default_cdisc_join_keys[names(data_km)]\n\narm_ref_comp &lt;- list(\n  ACTARMCD = list(\n    ref = \"Pbo\",\n    comp = c(\"Xan_Hi\", \"Xan_Lo\")\n  ),\n  ARM = list(\n    ref = \"Placebo\",\n    comp = c(\"Xanomeline High Dose\", \"Xanomeline Low Dose\")\n  )\n)\n\napp &lt;- init(\n  data = data_km,\n  modules = modules(\n    tm_g_km(\n      label = \"Kaplan-Meier Plot\",\n      dataname = \"ADTTE\",\n      arm_var = choices_selected(\n        variable_choices(\"ADSL\", c(\"ARM\", \"ARMCD\", \"ACTARMCD\")),\n        \"ARM\"\n      ),\n      paramcd = choices_selected(\n        value_choices(\"ADTTE\", \"PARAMCD\", \"PARAM\"),\n        \"OS\"\n      ),\n      arm_ref_comp = arm_ref_comp,\n      strata_var = choices_selected(\n        variable_choices(\"ADSL\", c(\"SEX\", \"RACE\")),\n        \"RACE\"\n      ),\n      facet_var = choices_selected(\n        variable_choices(ADSL, c(\"SEX\", \"RACE\")),\n        NULL\n      )\n    )\n  )\n)\n\nshinyApp(ui = app$ui, server = app$server)\n\n\n\n\n\n\nExample App\n\n\n\n\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 680\nlibrary(teal.data)\nlibrary(teal.modules.clinical)\nlibrary(teal.transform)\n\ndata_km &lt;- teal_data() |&gt;\n  within({\n  ADSL &lt;- pharmaverseadam::adsl\n\n  ADSL$ARM &lt;- as.factor(ADSL$ARM)\n  ADSL$ARMCD &lt;- as.factor(ADSL$ARMCD)\n  ADSL$SEX &lt;- as.factor(ADSL$SEX)\n  ADSL$RACE &lt;- as.factor(ADSL$RACE)\n\n  ADTTE &lt;- pharmaverseadam::adtte_onco\n  ADTTE$ARM &lt;- as.factor(ADTTE$ARM)\n  ADTTE$ARMCD &lt;- as.factor(ADTTE$ARMCD)\n  ADTTE$AVALU = as.factor(\"DAYS\")\n})\njoin_keys(data_km) &lt;- default_cdisc_join_keys[names(data_km)]\n\narm_ref_comp &lt;- list(\n  ACTARMCD = list(\n    ref = \"Pbo\",\n    comp = c(\"Xan_Hi\", \"Xan_Lo\")\n  ),\n  ARM = list(\n    ref = \"Placebo\",\n    comp = c(\"Xanomeline High Dose\", \"Xanomeline Low Dose\")\n  )\n)\n\napp &lt;- init(\n  data = data_km,\n  modules = modules(\n    tm_g_km(\n      label = \"Kaplan-Meier Plot\",\n      dataname = \"ADTTE\",\n      arm_var = choices_selected(\n        variable_choices(\"ADSL\", c(\"ARM\", \"ARMCD\", \"ACTARMCD\")),\n        \"ARM\"\n      ),\n      paramcd = choices_selected(\n        value_choices(\"ADTTE\", \"PARAMCD\", \"PARAM\"),\n        \"OS\"\n      ),\n      arm_ref_comp = arm_ref_comp,\n      strata_var = choices_selected(\n        variable_choices(\"ADSL\", c(\"SEX\", \"RACE\")),\n        \"RACE\"\n      ),\n      facet_var = choices_selected(\n        variable_choices(ADSL, c(\"SEX\", \"RACE\")),\n        NULL\n      )\n    )\n  )\n)\n\nshinyApp(ui = app$ui, server = app$server)"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#exercise",
    "href": "exercises/topic_6/choices_selected.html#exercise",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üõ†Ô∏è Exercise",
    "text": "üõ†Ô∏è Exercise\nFill in the code below to create a teal application that uses choices_selected to limit the variable choices for a summary table module.\n\n\ngroup_var with Treatment variable,\n\ny with Analysis variable,\n\nparam with Parameter of Interest\n\nlibrary(dplyr)\nlibrary(forcats)\nlibrary(teal.transform)\nlibrary(teal.modules.clinical)\n\ndata &lt;- teal_data()\ndata &lt;- within(data, {\n  ADSL &lt;- pharmaverseadam::adsl\n\n  ADSL$ARM &lt;- as.factor(ADSL$ARM)\n  ADSL$ARMCD &lt;- as.factor(ADSL$ARMCD)\n  ADSL$ACTARMCD &lt;- as.factor(ADSL$ACTARMCD)\n\n  ADLB &lt;- pharmaverseadam::adlb |&gt;\n    mutate(\n      AVISIT = as.factor(AVISIT),\n      AVISIT == fct_reorder(AVISIT, AVISITN, min),\n      AVALU = \"DAYS\"\n    )\n\n  ADLB$ARM &lt;- as.factor(ADLB$ARM)\n  ADLB$ARMCD &lt;- as.factor(ADLB$ARMCD)\n  ADLB$ACTARMCD &lt;- as.factor(ADLB$ACTARMCD)\n})\njoin_keys(data) &lt;- default_cdisc_join_keys[names(data)]\n\napp &lt;- init(\n  data = data,\n  modules = modules(\n    tm_g_lineplot(\n      label = \"Line Plot\",\n      dataname = \"ADLB\",\n      group_var = choices_selected(), # Select Treatment variable,\n      y = choices_selected(), # Select Analysis variable,\n      param = choices_selected() # Select Parameter of Interest\n    )\n  )\n)\nrunApp(app)\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nlibrary(dplyr)\nlibrary(forcats)\nlibrary(teal.transform)\nlibrary(teal.modules.clinical)\n\ndata &lt;- teal_data()\ndata &lt;- within(data, {\n  ADSL &lt;- pharmaverseadam::adsl\n\n  ADSL$ARM &lt;- as.factor(ADSL$ARM)\n  ADSL$ARMCD &lt;- as.factor(ADSL$ARMCD)\n  ADSL$ACTARMCD &lt;- as.factor(ADSL$ACTARMCD)\n\n  ADLB &lt;- pharmaverseadam::adlb |&gt;\n    mutate(\n      AVISIT = as.factor(AVISIT),\n      AVISIT == fct_reorder(AVISIT, AVISITN, min),\n      AVALU = \"DAYS\"\n    )\n\n  ADLB$ARM &lt;- as.factor(ADLB$ARM)\n  ADLB$ARMCD &lt;- as.factor(ADLB$ARMCD)\n  ADLB$ACTARMCD &lt;- as.factor(ADLB$ACTARMCD)\n})\njoin_keys(data) &lt;- default_cdisc_join_keys[names(data)]\n\napp &lt;- init(\n  data = data,\n  modules = modules(\n    tm_g_lineplot(\n      label = \"Line Plot\",\n      dataname = \"ADLB\",\n      group_var = choices_selected(\n        variable_choices(\"ADSL\", c(\"ARM\", \"ARMCD\", \"ACTARMCD\")),\n        \"ARM\"\n      ),\n      y = choices_selected(\n        variable_choices(\"ADLB\", c(\"AVAL\", \"BASE\", \"CHG\", \"PCHG\")),\n        \"AVAL\"\n      ),\n      param = choices_selected(\n        value_choices(\"ADLB\", \"PARAMCD\", \"PARAM\"),\n        \"ALT\"\n      )\n    )\n  )\n)\nrunApp(app)"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#what-did-we-learn",
    "href": "exercises/topic_6/choices_selected.html#what-did-we-learn",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üìö What did we learn?",
    "text": "üìö What did we learn?\nThe choices_selected and value_choices functions provides powerful flexibility for managing variable and value selections in teal applications. By combining it with variable_choices and understanding when to use eager vs.¬†delayed evaluation, you can create robust applications that adapt to different datasets and provide users with appropriate choices.\nKey takeaways: - Use variable_choices with subset functions for dynamic filtering - Delayed evaluation helps when dataset structure is unknown - Important with teal_data_modules - Smart defaults improve user experience across different datasets\nüí≠ What did we not cover?\ndata_extract_spec is the underlying specification that powers choices_selected in the modules. It provides a more general framework for defining choices and selections, and can be customized further for advanced use cases.\nThe data_extract_ui and data_extract_srv functions can be used in modules to create custom UI and server logic for data extraction based on data_extract_spec and choices_selected (via teal.modules.clinical::cs_to_des_select).\nUseful links for further exploration:\n\ndata_extract_spec documentation\ncs_to_des_select documentation\ndata_extract_ui documentation\ndata_extract_srv documentation"
  },
  {
    "objectID": "exercises/topic_6/choices_selected.html#references",
    "href": "exercises/topic_6/choices_selected.html#references",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üåê References",
    "text": "üåê References\n\nchoices_selected() documentation\nvalue_choices() documentation\nvariable_choices() documentation"
  },
  {
    "objectID": "exercises/topic_4/launching_tmc_modules.html",
    "href": "exercises/topic_4/launching_tmc_modules.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "The teal.modules.clinical (TMC) package offers specialized modules designed specifically for clinical trial data analysis. These modules are built on top of teal.modules.general and provide clinical-specific functionality and workflows.\n\n\n\nHere‚Äôs a simple example using a teal.modules.clinical module:\nlibrary(teal)\nlibrary(teal.modules.clinical)\nlibrary(teal.data)\nlibrary(pharmaverseadam)\n\n# Step 1: Load real ADaM data from pharmaverseadam\ndata(\"adsl\", package = \"pharmaverseadam\")\n\n# Step 2: Create teal_data object with the real dataset\nclinical_data &lt;- cdisc_data(\n    ADSL = adsl,\n    code = \"ADSL &lt;- adsl\"\n)\n\n# Step 3: Create the teal application with a TMC module\napp &lt;- teal::init(\n  data = clinical_data,\n  modules = teal::modules(\n    tm_t_summary(\n      label = \"Summary Statistics\",\n      dataname = \"ADSL\"\n    )\n  )\n)\n\n# Step 4: Launch the application\nif (interactive()) {\n  shiny::shinyApp(app$ui, app$server)\n}\n\n\n\nWhen you launch a teal.modules.clinical application, you‚Äôll observe:\n\nFilter Panel (Left): Shows filtering options for all dataset variables\n\nCategorical variables: Display as checkboxes (e.g., SEX, ARM, RACE)\nNumeric variables: Display as range sliders (e.g., AGE, BMIBL)\nDate variables: Display as date pickers (e.g., RFSTDTC, RFENDTC)\nAll filters are interconnected with module outputs\n\nMain Output (Center): Displays the module‚Äôs primary analytical output\n\nModule-specific visualizations or tables\nInteractive elements for exploration\nProfessional appearance following clinical data standards\n\nEncoding Panel: Provides controls for configuring the analysis\n\nVariable selection dropdowns\nAnalysis parameter settings\nCustomization options specific to the module type\n\nShow R Code Button: Generates reproducible R code for all operations\n\nClick to view the exact R code used\nCopy code for reproducibility\nEnsures transparency in analysis"
  },
  {
    "objectID": "exercises/topic_4/launching_tmc_modules.html#topic-4-introduction-to-teal.modules.clinical-and-anatomy-of-a-module-15-minutes",
    "href": "exercises/topic_4/launching_tmc_modules.html#topic-4-introduction-to-teal.modules.clinical-and-anatomy-of-a-module-15-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "The teal.modules.clinical (TMC) package offers specialized modules designed specifically for clinical trial data analysis. These modules are built on top of teal.modules.general and provide clinical-specific functionality and workflows.\n\n\n\nHere‚Äôs a simple example using a teal.modules.clinical module:\nlibrary(teal)\nlibrary(teal.modules.clinical)\nlibrary(teal.data)\nlibrary(pharmaverseadam)\n\n# Step 1: Load real ADaM data from pharmaverseadam\ndata(\"adsl\", package = \"pharmaverseadam\")\n\n# Step 2: Create teal_data object with the real dataset\nclinical_data &lt;- cdisc_data(\n    ADSL = adsl,\n    code = \"ADSL &lt;- adsl\"\n)\n\n# Step 3: Create the teal application with a TMC module\napp &lt;- teal::init(\n  data = clinical_data,\n  modules = teal::modules(\n    tm_t_summary(\n      label = \"Summary Statistics\",\n      dataname = \"ADSL\"\n    )\n  )\n)\n\n# Step 4: Launch the application\nif (interactive()) {\n  shiny::shinyApp(app$ui, app$server)\n}\n\n\n\nWhen you launch a teal.modules.clinical application, you‚Äôll observe:\n\nFilter Panel (Left): Shows filtering options for all dataset variables\n\nCategorical variables: Display as checkboxes (e.g., SEX, ARM, RACE)\nNumeric variables: Display as range sliders (e.g., AGE, BMIBL)\nDate variables: Display as date pickers (e.g., RFSTDTC, RFENDTC)\nAll filters are interconnected with module outputs\n\nMain Output (Center): Displays the module‚Äôs primary analytical output\n\nModule-specific visualizations or tables\nInteractive elements for exploration\nProfessional appearance following clinical data standards\n\nEncoding Panel: Provides controls for configuring the analysis\n\nVariable selection dropdowns\nAnalysis parameter settings\nCustomization options specific to the module type\n\nShow R Code Button: Generates reproducible R code for all operations\n\nClick to view the exact R code used\nCopy code for reproducibility\nEnsures transparency in analysis"
  },
  {
    "objectID": "exercises/topic_2/how_to_install.html",
    "href": "exercises/topic_2/how_to_install.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "You should have all the packages already preinstalled during these workshops on the remote workbenches we have prepared.\nWhen you are starting from scratch (or just reinstalled your R version):\ninstall.packages(c(\n    \"teal\",\n    \"teal.modules.clinical\",\n    \"teal.modules.general\",\n    \"pharmaverseadam\"\n))"
  },
  {
    "objectID": "exercises/topic_2/how_to_install.html#how-to-install-the-teal-framework",
    "href": "exercises/topic_2/how_to_install.html#how-to-install-the-teal-framework",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "You should have all the packages already preinstalled during these workshops on the remote workbenches we have prepared.\nWhen you are starting from scratch (or just reinstalled your R version):\ninstall.packages(c(\n    \"teal\",\n    \"teal.modules.clinical\",\n    \"teal.modules.general\",\n    \"pharmaverseadam\"\n))"
  },
  {
    "objectID": "exercises/topic_1/foreward.html",
    "href": "exercises/topic_1/foreward.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "teal is a powerful R framework designed to streamline the development of interactive data analysis applications. Built on top of Shiny, teal provides a modular, standardized approach to creating sophisticated data exploration and visualization tools."
  },
  {
    "objectID": "exercises/topic_1/foreward.html#what-is-teal",
    "href": "exercises/topic_1/foreward.html#what-is-teal",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "teal is a powerful R framework designed to streamline the development of interactive data analysis applications. Built on top of Shiny, teal provides a modular, standardized approach to creating sophisticated data exploration and visualization tools."
  },
  {
    "objectID": "exercises/topic_1/foreward.html#teal-ecosystem",
    "href": "exercises/topic_1/foreward.html#teal-ecosystem",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "teal ecosystem",
    "text": "teal ecosystem\nteal is just one R package from a teal ecosystem. Other packages that we will be using during these workshops that come from teal are: * teal.modules.clinical * teal.modules.general\nThere are multiple other packages that are developed alongside teal. You can find a comprehensive list at http://github.com/insightsengineering."
  },
  {
    "objectID": "exercises/topic_1/foreward.html#key-characteristics-of-teal",
    "href": "exercises/topic_1/foreward.html#key-characteristics-of-teal",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Key characteristics of teal",
    "text": "Key characteristics of teal\n\nModular Architecture: Build applications using reusable, interchangeable components\nReproducible Analytics: Maintain complete analysis reproducibility with built-in code tracking\nUser-Friendly Interface: Intuitive design accessible to both developers and end-users\nClinical Focus: Specialized modules for pharmaceutical and clinical trial data analysis\nInteractive Exploration: Real-time data filtering, visualization, and analysis capabilities"
  },
  {
    "objectID": "exercises/topic_1/foreward.html#how-teal-fits-with-shiny",
    "href": "exercises/topic_1/foreward.html#how-teal-fits-with-shiny",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "How teal fits with shiny",
    "text": "How teal fits with shiny\nteal is built on top of Shiny, extending Shiny‚Äôs capabilities specifically for data analysis applications:\n\nModular framework: While Shiny provides the reactive infrastructure, teal adds a standardized, modular architecture for data analysis modules\nReproducibility layer: teal adds automatic code tracking and reproducibility features that go beyond standard Shiny applications\nClinical data handling: teal provides specialized data structures and workflows for clinical trial data (CDISC/ADaM) that aren‚Äôt available in base Shiny\nIntegrated filtering: teal includes a sophisticated filter panel system that works seamlessly across all modules, which would require significant custom development in pure Shiny\n\nIn essence, teal takes Shiny‚Äôs reactive web application framework and adds the specialized tools, patterns, and infrastructure needed for reproducible, clinical-grade data analysis applications."
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#launching-a-simple-teal-application",
    "href": "exercises/topic_3/basic_app.html#launching-a-simple-teal-application",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Launching a simple teal application",
    "text": "Launching a simple teal application\nWhen you launch this minimal application, you‚Äôll observe:\n\nThe teal header - displaying the application title\nA main panel that shows our one empty module.\nThe filter panel on the left - ready to filter data (though no data is loaded yet)\nThe navigation structure - showing how teal organizes content"
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#basic-structure",
    "href": "exercises/topic_3/basic_app.html#basic-structure",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Basic structure",
    "text": "Basic structure\nEvery teal application follows this fundamental pattern:\n\nInitialization using teal::init()\n\nData specification (must be specified)\nModules definition\nApplication launch using the usual Shiny API"
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#code-example-simplest-teal-application",
    "href": "exercises/topic_3/basic_app.html#code-example-simplest-teal-application",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Code example: Simplest teal application",
    "text": "Code example: Simplest teal application\nlibrary(teal)\n\n# Create the simplest possible teal application\napp &lt;- teal::init(\n  data = teal.data::teal_data(iris = iris),\n  modules = teal::example_module(\n    label = \"example teal module\",\n    datanames = \"all\",\n    transformators = list(),\n    decorators = list()\n  )\n)\n\n# Launch the application\nshiny::shinyApp(app$ui, app$server)\nWhat this demonstrates\nThis minimal example shows you:\n\nThe teal framework structure\nThe filter panel\nThe modular architecture - the list in the top left shows the module list (with just one module for now)\nThe initialization pattern - teal::init() is the entry point for all teal applications"
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#the-data-argument---your-applications-foundation",
    "href": "exercises/topic_3/basic_app.html#the-data-argument---your-applications-foundation",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "The data argument - your application‚Äôs foundation",
    "text": "The data argument - your application‚Äôs foundation\nThe data argument is where you specify all the datasets your application will use. There are several ways to provide data to teal:\n\nusing teal_data()\n\nusing cdisc_data() for clinical data\n\nOption 1: Using teal_data()\n\n# Create data using teal_data()\nmy_data &lt;- teal_data(\n  ADSL = adsl_data,\n  ADAE = adae_data,\n  IRIS = iris\n)\n\napp &lt;- init(\n  data = my_data,\n  modules = modules(...)\n)\nOption 2: Using cdisc_data() for clinical data\n# For CDISC/ADaM data with relationships\nmy_data &lt;- cdisc_data(\n  ADSL = adsl_data,\n  ADAE = adae_data,\n  code = c(\n    \"ADSL &lt;- adsl_data\",\n    \"ADAE &lt;- adae_data\"\n  )\n)\n\napp &lt;- init(\n  data = my_data,\n  modules = modules(...)\n)\nWhat the data argument controls:\n\n\nAvailable datasets - Which datasets appear in the filter panel\n\nData relationships - How datasets connect to each other (via join_keys)\n\nReproducibility - Code tracking for generating the data"
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#the-modules-argument---your-applications-functionality",
    "href": "exercises/topic_3/basic_app.html#the-modules-argument---your-applications-functionality",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "The modules argument - your application‚Äôs functionality",
    "text": "The modules argument - your application‚Äôs functionality\nThe modules argument defines what your application can do. It accepts a modules() object containing one or more teal modules."
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#single-module-example",
    "href": "exercises/topic_3/basic_app.html#single-module-example",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Single module example",
    "text": "Single module example"
  },
  {
    "objectID": "exercises/topic_3/basic_app.html#multiple-modules-example",
    "href": "exercises/topic_3/basic_app.html#multiple-modules-example",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Multiple modules example",
    "text": "Multiple modules example"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#how-to-provide-data-to-a-teal-application---code-samples",
    "href": "exercises/topic_5/data_in_teal.html#how-to-provide-data-to-a-teal-application---code-samples",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "How to provide data to a teal application? - code samples",
    "text": "How to provide data to a teal application? - code samples\nThe data argument in teal::init() is where you specify all the datasets your application will use. There are several ways to provide data to teal:\n\nusing teal_data()\n\nusing cdisc_data() for clinical data"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#option-1-using-teal_data",
    "href": "exercises/topic_5/data_in_teal.html#option-1-using-teal_data",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Option 1: Using teal_data()\n",
    "text": "Option 1: Using teal_data()\n\n\nlibrary(teal.data)\n\n# Create a basic teal_data object\nmy_data &lt;- teal_data(\n  IRIS = iris,\n  MTCARS = mtcars\n)\n\n# View the structure\nprint(my_data)\n\n‚úñ code unverified\n&lt;environment: 0x5fc5beace698&gt; üîí \nParent: &lt;environment: package:teal.data&gt; \nBindings:\n- IRIS: [data.frame]\n- MTCARS: [data.frame]"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#option-2-adding-code-for-reproducibility",
    "href": "exercises/topic_5/data_in_teal.html#option-2-adding-code-for-reproducibility",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Option 2: Adding code for reproducibility",
    "text": "Option 2: Adding code for reproducibility\nOne of the key features of teal.data is its ability to track the code used to generate data:\n\n# Create teal_data with explicit code tracking\nmy_data &lt;- teal_data()\n\n# Add datasets with code\nmy_data &lt;- within(my_data, {\n  # Load and prepare iris data\n  IRIS &lt;- iris\n  IRIS$Species &lt;- as.factor(IRIS$Species)\n\n  # Load and prepare mtcars data\n  MTCARS &lt;- mtcars\n  MTCARS$cyl &lt;- as.factor(MTCARS$cyl)\n  MTCARS$gear &lt;- as.factor(MTCARS$gear)\n})\n\n# View the tracked code\nget_code(my_data) |&gt;\n  cat()\n\nIRIS &lt;- iris\nIRIS$Species &lt;- as.factor(IRIS$Species)\nMTCARS &lt;- mtcars\nMTCARS$cyl &lt;- as.factor(MTCARS$cyl)\nMTCARS$gear &lt;- as.factor(MTCARS$gear)"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#option-3-using-cdisc_data-for-clinical-data",
    "href": "exercises/topic_5/data_in_teal.html#option-3-using-cdisc_data-for-clinical-data",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Option 3: Using cdisc_data() for clinical data",
    "text": "Option 3: Using cdisc_data() for clinical data\nFor clinical trial data following CDISC standards, teal.data provides the specialized cdisc_data() function that automatically handles common clinical data relationships.\n\nlibrary(teal.data)\n\n# Create sample ADSL data\nadsl &lt;- data.frame(\n  STUDYID = rep(\"STUDY001\", 50),\n  USUBJID = paste0(\"SUBJ\", sprintf(\"%03d\", 1:50)),\n  AGE = sample(18:80, 50, replace = TRUE),\n  SEX = sample(c(\"M\", \"F\"), 50, replace = TRUE),\n  ARM = sample(c(\"Placebo\", \"Treatment\"), 50, replace = TRUE),\n  SAFFL = \"Y\",\n  stringsAsFactors = FALSE\n)\n\n# Create sample ADAE data (adverse events)\nadae &lt;- data.frame(\n  STUDYID = rep(\"STUDY001\", 150),\n  USUBJID = rep(paste0(\"SUBJ\", sprintf(\"%03d\", 1:50)), each = 3),\n  AESEQ = rep(1:3, 50),\n  AEDECOD = sample(c(\"Headache\", \"Nausea\", \"Fatigue\", \"Dizziness\"), 150, replace = TRUE),\n  AESEV = sample(c(\"MILD\", \"MODERATE\", \"SEVERE\"), 150, replace = TRUE),\n  AESER = sample(c(\"Y\", \"N\"), 150, replace = TRUE, prob = c(0.1, 0.9)),\n  stringsAsFactors = FALSE\n)\n\n# Create cdisc_data object\nclinical_data &lt;- cdisc_data(\n  ADSL = adsl,\n  ADAE = adae,\n  code = c(\n    \"ADSL &lt;- adsl_data_creation_code()\",\n    \"ADAE &lt;- adae_data_creation_code()\"\n  )\n)\n\nprint(clinical_data)\n\n‚úñ code unverified\n&lt;environment: 0x5fc5c25647f8&gt; üîí \nParent: &lt;environment: package:teal.data&gt; \nBindings:\n- ADAE: [data.frame]\n- ADSL: [data.frame]"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#introduction-to-teal.data-in-the-context-of-the-cdisc-data-standard",
    "href": "exercises/topic_5/data_in_teal.html#introduction-to-teal.data-in-the-context-of-the-cdisc-data-standard",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Introduction to teal.data in the context of the CDISC data standard",
    "text": "Introduction to teal.data in the context of the CDISC data standard\nThe teal.data package serves as the foundation for all data operations in teal. It provides a structured way to: - Store multiple datasets in a single object - Track the code used to create or modify data - Define relationships between datasets\nWhen you create a teal_data object, teal does several things behind the scenes: 1. Data storage - Your datasets are stored within the object 2. Code tracking - The creation process is recorded for reproducibility 3. Metadata creation - Information about datasets and their relationships is stored"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#creating-cdisc_data-objects-with-explicit-code",
    "href": "exercises/topic_5/data_in_teal.html#creating-cdisc_data-objects-with-explicit-code",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Creating cdisc_data objects with explicit code",
    "text": "Creating cdisc_data objects with explicit code\n\n# More explicit approach with within()\nclinical_data &lt;- cdisc_data()\n\nclinical_data &lt;- within(clinical_data, {\n  # Create ADSL\n  ADSL &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", 100),\n    USUBJID = paste0(\"SUBJ\", sprintf(\"%03d\", 1:100)),\n    AGE = sample(18:80, 100, replace = TRUE),\n    SEX = as.factor(sample(c(\"M\", \"F\"), 100, replace = TRUE)),\n    ARM = as.factor(sample(c(\"Placebo\", \"Treatment\"), 100, replace = TRUE)),\n    SAFFL = \"Y\"\n  )\n\n  # Create ADAE based on ADSL\n  n_events &lt;- 300\n  ADAE &lt;- data.frame(\n    STUDYID = \"STUDY001\",\n    USUBJID = sample(ADSL$USUBJID, n_events, replace = TRUE),\n    AESEQ = sequence(table(sample(ADSL$USUBJID, n_events, replace = TRUE))),\n    AEDECOD = sample(c(\"Headache\", \"Nausea\", \"Fatigue\"), n_events, replace = TRUE),\n    AESEV = as.factor(sample(c(\"MILD\", \"MODERATE\", \"SEVERE\"), n_events, replace = TRUE))\n  )\n})\n\n# View the structure and join keys\nprint(clinical_data)\n\n‚úÖÔ∏é code verified\n&lt;environment: 0x5fc5c1bde130&gt; üîí \nParent: &lt;environment: package:teal.data&gt; \nBindings:\n- ADAE: [data.frame]\n- ADSL: [data.frame]\n- n_events: [numeric]\n\njoin_keys(clinical_data)\n\nAn empty join_keys object."
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#complete-cdisc-example-with-adsl-adae-relationships",
    "href": "exercises/topic_5/data_in_teal.html#complete-cdisc-example-with-adsl-adae-relationships",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Complete CDISC example with ADSL-ADAE relationships",
    "text": "Complete CDISC example with ADSL-ADAE relationships\n\n# Step 1: Create the datasets\ncdisc_example &lt;- teal_data()\n\ncdisc_example &lt;- within(cdisc_example, {\n  # ADSL: Subject-Level Analysis Dataset\n  ADSL &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", 100),\n    USUBJID = paste0(\"SUBJ\", sprintf(\"%03d\", 1:100)),\n    SUBJID = sprintf(\"%03d\", 1:100),\n    SITEID = sample(paste0(\"SITE\", sprintf(\"%02d\", 1:10)), 100, replace = TRUE),\n    AGE = sample(18:80, 100, replace = TRUE),\n    AGEGR1 = cut(sample(18:80, 100, replace = TRUE),\n                 breaks = c(0, 30, 50, 65, 100),\n                 labels = c(\"&lt;30\", \"30-50\", \"50-65\", \"&gt;65\")),\n    SEX = as.factor(sample(c(\"M\", \"F\"), 100, replace = TRUE)),\n    RACE = as.factor(sample(c(\"WHITE\", \"BLACK\", \"ASIAN\", \"OTHER\"), 100, replace = TRUE)),\n    ARM = as.factor(sample(c(\"Placebo\", \"Treatment A\", \"Treatment B\"), 100, replace = TRUE)),\n    ACTARM = as.factor(sample(c(\"Placebo\", \"Treatment A\", \"Treatment B\"), 100, replace = TRUE)),\n    SAFFL = \"Y\",\n    ITTFL = \"Y\"\n  )\n\n  # ADAE: Adverse Event Analysis Dataset\n  # Generate realistic number of AEs per subject\n  ae_counts &lt;- rpois(100, 2.5)  # Average 2.5 AEs per subject\n  total_aes &lt;- sum(ae_counts)\n\n  ADAE &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", total_aes),\n    USUBJID = rep(ADSL$USUBJID, ae_counts),\n    SUBJID = rep(ADSL$SUBJID, ae_counts),\n    SITEID = rep(ADSL$SITEID, ae_counts),\n    AESEQ = sequence(ae_counts),\n    AEDECOD = sample(c(\"Headache\", \"Nausea\", \"Fatigue\", \"Dizziness\", \"Insomnia\",\n                       \"Diarrhea\", \"Constipation\", \"Rash\", \"Cough\", \"Fever\"),\n                     total_aes, replace = TRUE),\n    AEBODSYS = sample(c(\"Nervous system disorders\", \"Gastrointestinal disorders\",\n                        \"General disorders\", \"Skin and subcutaneous tissue disorders\",\n                        \"Respiratory disorders\"), total_aes, replace = TRUE),\n    AESEV = as.factor(sample(c(\"MILD\", \"MODERATE\", \"SEVERE\"), total_aes,\n                            replace = TRUE, prob = c(0.6, 0.3, 0.1))),\n    AESER = as.factor(sample(c(\"Y\", \"N\"), total_aes, replace = TRUE, prob = c(0.05, 0.95))),\n    AEREL = as.factor(sample(c(\"RELATED\", \"NOT RELATED\", \"POSSIBLY RELATED\"),\n                            total_aes, replace = TRUE, prob = c(0.2, 0.6, 0.2))),\n    AEACN = as.factor(sample(c(\"NONE\", \"DOSE REDUCED\", \"DRUG WITHDRAWN\"),\n                            total_aes, replace = TRUE, prob = c(0.8, 0.15, 0.05))),\n    AESTDY = sample(1:365, total_aes, replace = TRUE),\n    SAFFL = \"Y\"\n  )\n})\n\n# Step 2: Understand the automatic join keys\ncat(\"Automatic CDISC join keys:\\n\")\n\nAutomatic CDISC join keys:\n\nprint(join_keys(cdisc_example))\n\nAn empty join_keys object. \n\n# Step 3: Verify the relationships work\ncat(\"\\nTesting the relationship:\\n\")\n\n\nTesting the relationship:\n\ncat(\"ADSL subjects:\", length(unique(cdisc_example[[\"ADSL\"]]$USUBJID)), \"\\n\")\n\nADSL subjects: 100 \n\ncat(\"ADAE subjects:\", length(unique(cdisc_example[[\"ADAE\"]]$USUBJID)), \"\\n\")\n\nADAE subjects: 91 \n\ncat(\"ADAE events:\", nrow(cdisc_example[[\"ADAE\"]]), \"\\n\")\n\nADAE events: 263 \n\n# Step 4: Manual verification of join key validity\nadsl_keys &lt;- unique(cdisc_example[[\"ADSL\"]][c(\"STUDYID\", \"USUBJID\")])\nadae_keys &lt;- unique(cdisc_example[[\"ADAE\"]][c(\"STUDYID\", \"USUBJID\")])\ncat(\"All ADAE subjects exist in ADSL:\", all(adae_keys$USUBJID %in% adsl_keys$USUBJID), \"\\n\")\n\nAll ADAE subjects exist in ADSL: TRUE"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#introduction-to-the-concept-of-keys-in-teal.data",
    "href": "exercises/topic_5/data_in_teal.html#introduction-to-the-concept-of-keys-in-teal.data",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Introduction to the concept of keys in teal.data\n",
    "text": "Introduction to the concept of keys in teal.data\n\njoin_keys define how datasets relate to each other, which is crucial for: - Proper filtering across related datasets (filtering on the parent dataset filters entries in the child dataset as well) - Correct data merging in modules (join_key are used by the modules to merge datasets together)"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#what-is-the-purpose-of-join_keys",
    "href": "exercises/topic_5/data_in_teal.html#what-is-the-purpose-of-join_keys",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "What is the purpose of join_keys?",
    "text": "What is the purpose of join_keys?\njoin_keys serve several critical functions: 1. Data Relationships - Define how datasets connect (parent-child relationships) 2. Filter Propagation - Ensure filters apply correctly across related datasets 3. Module Integration - Help modules understand how to merge data correctly"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#automatic-join-key-detection-with-cdisc_data",
    "href": "exercises/topic_5/data_in_teal.html#automatic-join-key-detection-with-cdisc_data",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Automatic join key detection with cdisc_data()\n",
    "text": "Automatic join key detection with cdisc_data()\n\nOne of the key advantages of cdisc_data() is automatic join key detection:\n\n# View the automatically detected join keys\njoin_keys(clinical_data)\n\nAn empty join_keys object. \n\n# The output will show:\n# ADSL &lt;-&gt; ADAE: [STUDYID, USUBJID]"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#understanding-join-key-output",
    "href": "exercises/topic_5/data_in_teal.html#understanding-join-key-output",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Understanding join key output",
    "text": "Understanding join key output\n\n# Create example with multiple relationships\ncomplex_data &lt;- cdisc_data()\n\ncomplex_data &lt;- within(complex_data, {\n  ADSL &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", 30),\n    USUBJID = paste0(\"SUBJ\", sprintf(\"%03d\", 1:30)),\n    SITEID = sample(paste0(\"SITE\", 1:5), 30, replace = TRUE),\n    AGE = sample(18:80, 30, replace = TRUE)\n  )\n\n  ADAE &lt;- data.frame(\n    STUDYID = \"STUDY001\",\n    USUBJID = sample(ADSL$USUBJID, 90, replace = TRUE),\n    AESEQ = sequence(table(sample(ADSL$USUBJID, 90, replace = TRUE))),\n    AEDECOD = sample(c(\"Headache\", \"Nausea\"), 90, replace = TRUE)\n  )\n\n  ADLB &lt;- data.frame(\n    STUDYID = \"STUDY001\",\n    USUBJID = sample(ADSL$USUBJID, 120, replace = TRUE),\n    PARAMCD = sample(c(\"ALT\", \"AST\", \"BILI\"), 120, replace = TRUE),\n    AVAL = rnorm(120, 50, 10)\n  )\n})\n\n# Print and interpret join keys\ncat(\"Join Keys Structure:\\n\")\n\nJoin Keys Structure:\n\nprint(join_keys(complex_data))\n\nAn empty join_keys object. \n\n# Understanding the output:\n# - Each line shows a relationship between two datasets\n# - The arrow (-&gt;) indicates the direction (parent -&gt; child)\n# - Variables in brackets show the joining columns\n# - ADSL is typically the parent (subject-level data)"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#creating-a-custom-teal.data-object-with-custom-user-defined-keys---code-samples",
    "href": "exercises/topic_5/data_in_teal.html#creating-a-custom-teal.data-object-with-custom-user-defined-keys---code-samples",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Creating a custom teal.data object with custom user-defined keys - code samples",
    "text": "Creating a custom teal.data object with custom user-defined keys - code samples\nSometimes you need to create or modify join keys manually, especially when working with non-standard data structures or when you need custom relationships."
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#manual-join-keys-creation",
    "href": "exercises/topic_5/data_in_teal.html#manual-join-keys-creation",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Manual join keys creation",
    "text": "Manual join keys creation\n\n# Create a teal_data object without automatic join detection\nmy_data &lt;- teal_data(\n  PATIENTS = data.frame(\n    patient_id = 1:100,\n    age = sample(18:80, 100, replace = TRUE),\n    treatment = sample(c(\"A\", \"B\"), 100, replace = TRUE)\n  ),\n  VISITS = data.frame(\n    patient_id = rep(1:100, each = 4),\n    visit_num = rep(1:4, 100),\n    visit_date = seq.Date(as.Date(\"2024-01-01\"), by = \"week\", length.out = 400),\n    measurement = rnorm(400, 100, 15)\n  ),\n  EVENTS = data.frame(\n    patient_id = sample(1:100, 200, replace = TRUE),\n    event_type = sample(c(\"AE\", \"CM\", \"EX\"), 200, replace = TRUE),\n    event_date = sample(seq.Date(as.Date(\"2024-01-01\"), as.Date(\"2024-12-31\"), by = \"day\"), 200)\n  )\n)\n\n# Manually define join keys\njoin_keys(my_data) &lt;- join_keys(\n  join_key(\"PATIENTS\", \"VISITS\", \"patient_id\"),\n  join_key(\"PATIENTS\", \"EVENTS\", \"patient_id\")\n)\n\n# View the join keys\nprint(\"Manual join keys:\")\n\n[1] \"Manual join keys:\"\n\nprint(join_keys(my_data))\n\nA join_keys object containing foreign keys between 3 datasets:\nPATIENTS: [no primary keys]\n  &lt;-- VISITS: [patient_id]\n  &lt;-- EVENTS: [patient_id]\nVISITS: [no primary keys]\n  --&gt; PATIENTS: [patient_id]\n  --* (implicit via parent with): EVENTS\nEVENTS: [no primary keys]\n  --&gt; PATIENTS: [patient_id]\n  --* (implicit via parent with): VISITS"
  },
  {
    "objectID": "exercises/topic_5/data_in_teal.html#overwriting-automatic-join-keys-in-cdisc_data",
    "href": "exercises/topic_5/data_in_teal.html#overwriting-automatic-join-keys-in-cdisc_data",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Overwriting automatic join keys in cdisc_data\n",
    "text": "Overwriting automatic join keys in cdisc_data\n\nSometimes the automatic join key detection in cdisc_data() doesn‚Äôt match your specific needs. Here‚Äôs how to override the default behavior:\n\nlibrary(teal)\n\nLoading required package: shiny\n\n\nLoading required package: teal.slice\n\n\nRegistered S3 method overwritten by 'teal':\n  method        from      \n  c.teal_slices teal.slice\n\n\n\nYou are using teal version 1.0.0\n\n\n\nAttaching package: 'teal'\n\n\nThe following objects are masked from 'package:teal.slice':\n\n    as.teal_slices, teal_slices\n\nlibrary(teal.modules.general)\n\nLoading required package: ggplot2\n\n\nLoading required package: teal.transform\n\nlibrary(teal.data)\n\n# Step 1: Create datasets with CDISC structure\ncreate_cdisc_datasets &lt;- function() {\n  # ADSL with standard CDISC variables\n  ADSL &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", 30),\n    USUBJID = paste0(\"SUBJ\", sprintf(\"%03d\", 1:30)),\n    SUBJID = sprintf(\"%03d\", 1:30),\n    SITEID = sample(paste0(\"SITE\", sprintf(\"%02d\", 1:5)), 30, replace = TRUE),\n    AGE = sample(18:80, 30, replace = TRUE),\n    SEX = as.factor(sample(c(\"M\", \"F\"), 30, replace = TRUE)),\n    ARM = as.factor(sample(c(\"Placebo\", \"Treatment A\", \"Treatment B\"), 30, replace = TRUE)),\n    SAFFL = \"Y\"\n  )\n\n  # ADAE with additional sequence variable\n  n_aes &lt;- 90\n  ADAE &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", n_aes),\n    USUBJID = sample(ADSL$USUBJID, n_aes, replace = TRUE),\n    SUBJID = sample(ADSL$SUBJID, n_aes, replace = TRUE),\n    SITEID = sample(ADSL$SITEID, n_aes, replace = TRUE),\n    AESEQ = sequence(table(sample(ADSL$USUBJID, n_aes, replace = TRUE))),\n    AEDECOD = sample(c(\"Headache\", \"Nausea\", \"Fatigue\", \"Dizziness\"), n_aes, replace = TRUE),\n    AESEV = as.factor(sample(c(\"MILD\", \"MODERATE\", \"SEVERE\"), n_aes, replace = TRUE)),\n    SAFFL = \"Y\"\n  )\n\n  # ADCM (Concomitant Medications) with different structure\n  n_cms &lt;- 60\n  ADCM &lt;- data.frame(\n    STUDYID = rep(\"STUDY001\", n_cms),\n    USUBJID = sample(ADSL$USUBJID, n_cms, replace = TRUE),\n    SUBJID = sample(ADSL$SUBJID, n_cms, replace = TRUE),\n    CMSEQ = sequence(table(sample(ADSL$USUBJID, n_cms, replace = TRUE))),\n    CMDECOD = sample(c(\"Aspirin\", \"Ibuprofen\", \"Acetaminophen\"), n_cms, replace = TRUE),\n    CMCLAS = sample(c(\"ANALGESICS\", \"ANTI-INFLAMMATORY\"), n_cms, replace = TRUE),\n    SAFFL = \"Y\"\n  )\n\n  return(list(ADSL = ADSL, ADAE = ADAE, ADCM = ADCM))\n}\n\n# Step 2: Create cdisc_data with automatic join keys\ndatasets &lt;- create_cdisc_datasets()\nauto_data &lt;- cdisc_data(\n  ADSL = datasets$ADSL,\n  ADAE = datasets$ADAE,\n  ADCM = datasets$ADCM\n)\n\n# View automatic join keys\ncat(\"Automatic join keys:\\n\")\n\nAutomatic join keys:\n\nprint(join_keys(auto_data))\n\nA join_keys object containing foreign keys between 3 datasets:\nADSL: [STUDYID, USUBJID]\n  &lt;-- ADAE: [STUDYID, USUBJID]\n  &lt;-- ADCM: [STUDYID, USUBJID]\nADAE: [STUDYID, USUBJID, ASTDTM, AETERM, AESEQ]\n  --&gt; ADSL: [STUDYID, USUBJID]\n  --* (implicit via parent with): ADCM\nADCM: [STUDYID, USUBJID, ASTDTM, CMSEQ, ATC1CD, ATC2CD, ATC3CD, ATC4CD]\n  --&gt; ADSL: [STUDYID, USUBJID]\n  --* (implicit via parent with): ADAE \n\n# Step 3: Define custom join keys\n# Let's say we want to use different joining variables or add additional relationships\ncustom_keys &lt;- join_keys(\n  # Primary keys for each dataset\n  join_key(\"ADSL\", \"ADSL\", c(\"STUDYID\", \"USUBJID\")),\n  join_key(\"ADAE\", \"ADAE\", c(\"STUDYID\", \"USUBJID\", \"AESEQ\")),\n  join_key(\"ADCM\", \"ADCM\", c(\"STUDYID\", \"USUBJID\", \"CMSEQ\")),\n\n  # Relationships between datasets\n  join_key(\"ADSL\", \"ADAE\", c(\"STUDYID\", \"USUBJID\")),\n  join_key(\"ADSL\", \"ADCM\", c(\"STUDYID\", \"USUBJID\")),\n\n  # Custom: Allow direct relationship between ADAE and ADCM\n  # This might be useful for analyzing AEs and concomitant medications together\n  join_key(\"ADAE\", \"ADCM\", c(\"STUDYID\", \"USUBJID\"))\n)\n\n# Step 4: Create cdisc_data with custom join keys\ncustom_data &lt;- cdisc_data(\n  ADSL = datasets$ADSL,\n  ADAE = datasets$ADAE,\n  ADCM = datasets$ADCM\n)\n\n# Override the automatic join keys\njoin_keys(custom_data) &lt;- custom_keys\n\n# View the custom join keys\ncat(\"\\nCustom join keys:\\n\")\n\n\nCustom join keys:\n\nprint(join_keys(custom_data))\n\nA join_keys object containing foreign keys between 3 datasets:\nADSL: [STUDYID, USUBJID]\n  &lt;-- ADAE: [STUDYID, USUBJID]\n  &lt;-&gt; ADCM: [STUDYID, USUBJID]\nADAE: [STUDYID, USUBJID, AESEQ]\n  --&gt; ADSL: [STUDYID, USUBJID]\n  &lt;-- ADCM: [STUDYID, USUBJID]\nADCM: [STUDYID, USUBJID, CMSEQ]\n  &lt;-&gt; ADSL: [STUDYID, USUBJID]\n  --&gt; ADAE: [STUDYID, USUBJID]"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html",
    "href": "exercises/topic_7/create_teal_module.html",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A teal module consists of two main components, similar to a Shiny module:\n\n\nUI function - defines the user interface\n\nServer function - contains the server logic\n\nThe key difference from a standard Shiny module is that the server function now has a data parameter:\n\nThis parameter is reactive and contains a teal_data object\nThe teal_data object holds all the datasets available in the teal application\nAccess datasets using data()[[\"dataset_name\"]]"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#topic-7-creating-a-custom-teal-module-20-minutes",
    "href": "exercises/topic_7/create_teal_module.html#topic-7-creating-a-custom-teal-module-20-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "",
    "text": "A teal module consists of two main components, similar to a Shiny module:\n\n\nUI function - defines the user interface\n\nServer function - contains the server logic\n\nThe key difference from a standard Shiny module is that the server function now has a data parameter:\n\nThis parameter is reactive and contains a teal_data object\nThe teal_data object holds all the datasets available in the teal application\nAccess datasets using data()[[\"dataset_name\"]]"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#basic-structure-of-a-teal_module",
    "href": "exercises/topic_7/create_teal_module.html#basic-structure-of-a-teal_module",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Basic structure of a teal_module\n",
    "text": "Basic structure of a teal_module\n\nmy_module_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  # Define UI elements with proper namespacing\n}\n\nmy_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n    # data parameter contains reactive teal_data object\n    # Access datasets: data()[[\"ADSL\"]], data()[[\"ADAE\"]], etc.\n  })\n}\n\n# Create the module from UI and server functions\nmy_module &lt;- teal::module(\n  label = \"Module Label\",\n  ui = my_module_ui,\n  server = my_module_srv\n)"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#base-functionality-of-our-custom-module",
    "href": "exercises/topic_7/create_teal_module.html#base-functionality-of-our-custom-module",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Base functionality of our custom module",
    "text": "Base functionality of our custom module\nLet‚Äôs create a custom module that shows a simple histogram plot based on user selected columns.\n\n\nUI function should contain (wrapped in shiny::tags$div()):\n\nA variable selector (using shiny::selectInput())\nA plot output (using shiny::plotOutput())\n\n\n\nServer should:\n\nUpdate the variable selector choices based on numeric columns from the ADSL dataset\n\nUsing shiny::updateSelectInput() to set choices of data()[[\"ADSL\"]] numeric columns\nHelper snippet: data()[[\"ADSL\"]] |&gt; dplyr::select(where(is.numeric)) |&gt; names()\n\n\n\nCreate a histogram plot using ggplot2 based on the selected variable (Using ggplot2::geom_histogram())\n\nHelper snippet: ggplot(ADSL, aes(x = selected_variable)) + geom_histogram()\n\n\n\n\n\n\n‚ÑπÔ∏è Good to know:\n\nUse teal.code::within() to create reproducible code inside reactive expression and return it at the end.\n\nteal_data code is not aware of shiny inputs\n\nUse named parameters in within() to pass shiny inputs"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#initial-teal-module-code",
    "href": "exercises/topic_7/create_teal_module.html#initial-teal-module-code",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Initial teal module code",
    "text": "Initial teal module code\n\nSee folder exercice_7 for the code to start with\n\nlibrary(teal)\nlibrary(dplyr)\nlibrary(ggplot2)\n\nmy_custom_module_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  tags$div(\n    selectInput( # variable selector\n      inputId = ns(\"variable\"),\n      label = \"Select variable\",\n      choices = NULL # initialize empty - to be updated from within server\n    ),\n    plotOutput(ns(\"plot\")) # Output for the plot\n  )\n}\n\nmy_custom_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n\n    updateSelectInput( # update variable selector by names of data\n      inputId = \"variable\",\n      choices = data()[[\"ADSL\"]] |&gt; select(where(is.numeric)) |&gt; names()\n    )\n\n    # add plot call to qenv\n    result &lt;- reactive({\n      req(input$variable)\n      within(\n        data(),\n        {\n          plot &lt;- ggplot(ADSL, aes(x = input_var)) + geom_histogram()\n        },\n        input_var = as.name(input$variable) # Pass the selected variable as a symbol\n      )\n    })\n\n    # render to output the object from qenv\n    output$plot &lt;- renderPlot(result()[[\"plot\"]])\n\n    result\n  })\n}\n\nmy_custom_module &lt;- module(\n  label = \"My Custom Module\",\n  ui = my_custom_module_ui,\n  server = my_custom_module_srv\n)\n\ndata &lt;- teal_data()\ndata &lt;- within(data, {\n  ADSL &lt;- pharmaverseadam::adsl\n})\n\napp &lt;- init(\n  data = data,\n  modules = list(my_custom_module)\n)\n\nshinyApp(app$ui, app$server)"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#app-running",
    "href": "exercises/topic_7/create_teal_module.html#app-running",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "App running",
    "text": "App running\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 680\nlibrary(teal)\nlibrary(dplyr)\nlibrary(ggplot2)\n\nmy_custom_module_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  tags$div(\n    selectInput( # variable selector\n      inputId = ns(\"variable\"),\n      label = \"Select variable\",\n      choices = NULL # initialize empty - to be updated from within server\n    ),\n    plotOutput(ns(\"plot\")) # Output for the plot\n  )\n}\n\nmy_custom_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n\n    updateSelectInput( # update variable selector by names of data\n      inputId = \"variable\",\n      choices = data()[[\"ADSL\"]] |&gt; select(where(is.numeric)) |&gt; names()\n    )\n\n    # add plot call to qenv\n    result &lt;- reactive({\n      req(input$variable)\n      within(\n        data(),\n        {\n          plot &lt;- ggplot(ADSL, aes(x = input_var)) + geom_histogram()\n        },\n        input_var = as.name(input$variable) # Pass the selected variable as a symbol\n      )\n    })\n\n    # render to output the object from qenv\n    output$plot &lt;- renderPlot(result()[[\"plot\"]])\n\n    result\n  })\n}\n\nmy_custom_module &lt;- module(\n  label = \"My Custom Module\",\n  ui = my_custom_module_ui,\n  server = my_custom_module_srv\n)\n\ndata &lt;- teal_data()\ndata &lt;- within(data, {\n  ADSL &lt;- pharmaverseadam::adsl\n})\n\napp &lt;- init(\n  data = data,\n  modules = list(my_custom_module)\n)\n\nshinyApp(app$ui, app$server)"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#exercise",
    "href": "exercises/topic_7/create_teal_module.html#exercise",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üõ†Ô∏è Exercise",
    "text": "üõ†Ô∏è Exercise\nLet‚Äôs enhance the module:\n\n\nLet‚Äôs create a new parameter binwidth:\n\n\nadd a new widget to the UI\n\nthat widget may be created with shiny::sliderInput()\n\nmake reasonable values of min, max, step and initial value\n\n\n\nread and use that widget in server\n\npass this parameter value as binwidth argument to the geom_histogram() function\n\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nmy_custom_module_ui &lt;- function(id) {\n  # ... existing code ...\n  tags$div(\n    # ... existing code ...,\n    sliderInput(\n      inputId = ns(\"binwidth\"),\n      label = \"binwidth\",\n      min = 1,\n      max = 10,\n      step = 1,\n      value = 3\n    ),\n    # ... existing code ...\n  )\n}\nmy_custom_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n\n    # ... existing code ...\n\n    # add plot call to qenv\n    result &lt;- reactive({\n      req(input$variable)\n      within(\n        data(),\n        {\n          plot &lt;- ggplot(ADSL, aes(x = input_var)) +\n            geom_histogram(binwidth = input_binwidth)\n          plot\n        },\n        input_var = as.name(input$variable), # Pass the selected variable as a symbol\n        input_binwidth = input$binwidth\n      )\n    })\n\n    # ... existing code ...\n\n  })\n}\n\n\n\n\n\nLet‚Äôs add reporter functionality to module\n\nAdd UI elements to UI function with teal.reporter::simple_reporter_ui(id),\n\nAdd arguments called reporter and filter_panel_api to server function\n\nFlag teal that module supports reporter\n\n\n\nCreate reporter in server function\nwith_filter &lt;- !rlang::is_missing(filter_panel_api) && inherits(filter_panel_api, \"FilterPanelApi\")\ncard_fun &lt;- function(card = teal.reporter::ReportCard$new(), comment) {\n  card$set_name(\"My custom module\")\n  card$append_text(filter_panel_api$get_filter_state(), \"verbatim\")\n  card$append_text(paste(\"Selected var:\", input$variable))\n  card$append_text(paste(\"Selected binwidth:\", input$binwidth))\n  card$append_plot(result()$plot)\n}\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nmy_custom_module_ui &lt;- function(id) {\n  # ... existing code ...\n  tags$div(\n    # ... existing code ...,\n    teal.reporter::simple_reporter_ui(ns(\"reporter\")),\n    # ... existing code ...\n  )\n}\n\nmy_custom_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n\n    # ... existing code ...\n\n    # add plot call to qenv\n    result &lt;- reactive({\n      req(input$variable)\n      within(\n        data(),\n        {\n          plot &lt;- ggplot(ADSL, aes(x = input_var)) +\n            geom_histogram(binwidth = input_binwidth)\n          plot\n        },\n        input_var = as.name(input$variable),\n        input_binwidth = input$binwidth\n      )\n    })\n\n    # ... existing code ...\n\n  })\n}"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#bonus-exercise-add-more-datasets",
    "href": "exercises/topic_7/create_teal_module.html#bonus-exercise-add-more-datasets",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üõ†Ô∏è Bonus Exercise (add more datasets)",
    "text": "üõ†Ô∏è Bonus Exercise (add more datasets)\n\n\nLet‚Äôs add more datasets\n\nextend data with ADAE = teal.pharmaverse::adae\n\nadd a new widget in the UI\n\nthat widget should be created with shiny::selectInput()\n\ninitialize empty and update values in the same way as for input$variable\n\n\n\nread and use in the server\n\nmodify the variable selection - it has to be chosen from the currently selected dataset\n\nconvert to observeEvent() on input$dataset\n\nadd at the beggining: req(input$dataset) to assure non empty selection\nmodify to choices = names(data()[[input$dataset]])\n\n\n\nmodify the observer call\n\nadd req(input$dataset)\n\nadd req(input$variables %in% names(data()[[input$dataset]]))\n\n\n\nmodify ggplot call\n\nconvert the value to a symbol and use as a first argument of ggplot()\n\n\n\n\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\n\ndata &lt;- within(data, {\n  ADSL &lt;- pharmaverseadam::adsl\n  ADAE &lt;- pharmaverseadam::adae\n})\n\n\nmy_custom_module_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  tags$div(\n    # dataset selector\n    selectInput(\n      inputId = ns(\"dataset\"),\n      label = \"Select dataset\",\n      choices = NULL\n    ),\n    # ... existing code ...\n  )\n}\n\n\nmy_custom_module_srv &lt;- function(id, data) {\n  moduleServer(id, function(input, output, session) {\n\n    # ... existing code ...\n\n    updateSelectInput(\n      inputId = \"dataset\",\n      choices = names(data())\n    )\n\n    observeEvent(\n      input$dataset,\n      {\n        req(input$dataset)\n        updateSelectInput(\n          inputId = \"variable\",\n          choices = data()[[input$dataset]] |&gt; select(where(is.numeric)) |&gt; names()\n        )\n      }\n    )\n\n    # Update reactive and render function\n    result &lt;- reactive({\n      req(input$dataset)\n      req(input$variable)\n      within(\n        data(),\n        {\n          my_plot &lt;- ggplot(input_dataset, aes(x = input_var)) +\n            geom_histogram()\n          my_plot\n        },\n        input_dataset = as.name(input$dataset),\n        input_var = as.name(input$variable)\n      )\n    })\n\n    output$plot &lt;- renderPlot({\n      result()[[\"my_plot\"]]\n    })\n\n  })\n}"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#what-did-we-learn",
    "href": "exercises/topic_7/create_teal_module.html#what-did-we-learn",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üìö What did we learn?",
    "text": "üìö What did we learn?\n\nHow to create a custom teal module\nHow to interact with teal_data object in the module server\nHow to enable reproducible code and reporting features"
  },
  {
    "objectID": "exercises/topic_7/create_teal_module.html#references",
    "href": "exercises/topic_7/create_teal_module.html#references",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "üåê References",
    "text": "üåê References\n\nteal::module()\n\n‚ÄúCreating Custom Modules‚Äù vignette\n\n\"qenv\" article on how to interact with internal qenv object - in particular: teal.code::within() function"
  },
  {
    "objectID": "presentation.html#foreword",
    "href": "presentation.html#foreword",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Foreword",
    "text": "Foreword\nThis is a draft of the workshops for the PHUSE EU Connect 2025 event.\nThe workshops lasts for 90 minutes, is intended for statistical programmers as well as everyone else interested in learning about how teal can help them with interactive data visualization for clinical trials.\nAll the code samples mentioned in the draft should be available via the POSIT Cloud project."
  },
  {
    "objectID": "presentation.html#topic-1-introduction-to-teal-5-minutes",
    "href": "presentation.html#topic-1-introduction-to-teal-5-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 1: Introduction to teal (5 minutes)",
    "text": "Topic 1: Introduction to teal (5 minutes)\n\nTODO\n\n\nWhat is teal?\nWhat teal can be used for?\nWhat is the teal framework - other packages from the teal family."
  },
  {
    "objectID": "presentation.html#topic-2-how-to-install-the-teal-framework-2-minutes",
    "href": "presentation.html#topic-2-how-to-install-the-teal-framework-2-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 2: How to install the teal framework? (2 minutes)",
    "text": "Topic 2: How to install the teal framework? (2 minutes)\n\nTODO\n\n\nInstallation of teal and its dependencies - code samples"
  },
  {
    "objectID": "presentation.html#topic-3-launching-a-simple-teal-application-7-minutes",
    "href": "presentation.html#topic-3-launching-a-simple-teal-application-7-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 3: Launching a simple teal application (7 minutes)",
    "text": "Topic 3: Launching a simple teal application (7 minutes)\n\n‚úÖ\n\n\nLaunching a simple teal application - code samples\nAnatomy of a teal application - code samples:\n\nteal data\nteal"
  },
  {
    "objectID": "presentation.html#topic-4-introduction-to-teal.modules.clinical-and-anatomy-of-a-module-15-minutes",
    "href": "presentation.html#topic-4-introduction-to-teal.modules.clinical-and-anatomy-of-a-module-15-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 4: Introduction to teal.modules.clinical and anatomy of a module (15 minutes)",
    "text": "Topic 4: Introduction to teal.modules.clinical and anatomy of a module (15 minutes)\n\n‚úÖ\n\n\nWhat is teal.modules.clinical?\nLaunching a simple teal.modules.clinical application - code samples\nAnatomy of a teal.modules.clinical module:\n\nmain output\nencoding panel\nfilter panel\nShow R Code button"
  },
  {
    "objectID": "presentation.html#topic-5-deeper-dive-into-how-to-provide-and-pre-process-data-in-teal.modules.clinical-15-minutes",
    "href": "presentation.html#topic-5-deeper-dive-into-how-to-provide-and-pre-process-data-in-teal.modules.clinical-15-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 5: Deeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)",
    "text": "Topic 5: Deeper dive into how to provide and pre-process data in teal.modules.clinical (15 minutes)\n\nPartially covered (3 of the bullet points)\n\n\nHow to provide data to a teal application? - code samples\nIntroduction to teal.data in the context of the CDISC data standard\nIntroduction to the concept of keys in teal.data\nCreating a custom teal.data object with custom user-defined keys - code samples\nPreprocessing data - code samples\n\nCode samples should reuse the application code from the previous topic to put the new information in the context of something already familiar.\nWe want to support the following scenarios that app developers face: * providing custom non-CDISC data to a teal.modules.clinical application * pre-processing data to create new variables, filter data or make summaries"
  },
  {
    "objectID": "presentation.html#topic-6-deeper-dive-into-customizing-the-parameters-of-teal.modules.clinical-modules-10-minutes",
    "href": "presentation.html#topic-6-deeper-dive-into-customizing-the-parameters-of-teal.modules.clinical-modules-10-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 6: Deeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)",
    "text": "Topic 6: Deeper dive into customizing the parameters of teal.modules.clinical modules (10 minutes)\n\nTODO @averissimo ‚Äì But first rethink on this topic\n\n\nIntroduction to choices_selected - code samples\nParametrising choices_selected for different results:\n\nchoices_selected with variable_choices - code samples\nchoices_selected with delayed evaluation - code samples\nchoices_selected with eager evaluation and limited values - code samples (* Introduction to data_extract_spec - I am hesitant on this one because I received information the data_extract_spec will be reworked in the coming months and also it‚Äôs not widely used inside teal.modules.clinical).\n\n\nCode samples should reuse the application code from the previous topic to put the new information in the context of something already familiar.\nWe want to cover the following scenarios that app developers face: * limiting the choices of variables in an input to a module * providing choices to an input inside a module without knowing the dataset (simulating dataset being downloaded from somewhere interactively) * changing the dataset that is used by a module"
  },
  {
    "objectID": "presentation.html#topic-7-creating-custom-teal-modules-20-minutes",
    "href": "presentation.html#topic-7-creating-custom-teal-modules-20-minutes",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 7: Creating custom teal modules (20 minutes)",
    "text": "Topic 7: Creating custom teal modules (20 minutes)\n\nTODO @averissimo\n\n\nWhen to create a custom teal module?\nCreating a custom teal module:\n\nUI function\nServer function\nCustom teal module arguments - data, reporter, filtering API"
  },
  {
    "objectID": "presentation.html#topic-8-discussion-and-qa-whats-left",
    "href": "presentation.html#topic-8-discussion-and-qa-whats-left",
    "title": "Interactive Data Visualisation Using the Teal Framework",
    "section": "Topic 8: Discussion and QA (what‚Äôs left)",
    "text": "Topic 8: Discussion and QA (what‚Äôs left)"
  }
]