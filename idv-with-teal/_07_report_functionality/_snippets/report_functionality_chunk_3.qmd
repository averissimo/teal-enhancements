# Demonstration of report editing and organization capabilities
report_editing_demo <- teal::init(
  data = report_demo_data,
  modules = teal::modules(
    # Multiple modules to create content for reordering demonstration
    tm_data_table(
      label = "A. Data Overview",
      dataname = "ADSL"
    ),
    tm_g_distribution(
      label = "D. Age Distribution",  # Will be reordered
      dataname = "ADSL",
      dist_var = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          choices = variable_choices("ADSL", "AGE"),
          selected = "AGE"
        )
      )
    ),
    tm_t_summary(
      label = "B. Demographics Summary",  # Will be reordered
      dataname = "ADSL",
      summarize_vars = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          choices = variable_choices("ADSL", c("AGE", "SEX", "RACE")),
          selected = c("AGE", "SEX", "RACE"),
          multiple = TRUE
        )
      )
    ),
    tm_g_scatterplot(
      label = "C. Baseline Correlations",  # Will be reordered
      dataname = "ADSL",
      x = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          choices = variable_choices("ADSL", "AGE"),
          selected = "AGE"
        )
      ),
      y = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          choices = variable_choices("ADSL", "BMIBL"),
          selected = "BMIBL"
        )
      )
    )
  ),
  title = "Report Organization Demo"
)

# Report editing workflow:
# 1. Add content from modules in any order (D, B, C, A)
# 2. Navigate to Report tab to see current organization
# 3. Use drag-and-drop to reorder cards logically (A, B, C, D)
# 4. Verify the new organization makes analytical sense
# 5. Add section headers and transitions between analyses

if (interactive()) {
  shiny::shinyApp(report_editing_demo$ui, report_editing_demo$server)
}
